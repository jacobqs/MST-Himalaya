<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>&lt;no title&gt; &mdash; Documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/bootstrap.min.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/bootstrap-grid.min.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script src="../../_static/js/bootstrap.min.js"></script>
        <script src="../../_static/js/bootstrap.bundle.min.js"></script>
        <script src="../../_static/js/custom.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> Shyft
          </a>
              <div class="version">
                4.12
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Project</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../content/project/what_is_shyft.html">What is Shyft?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../content/project/get_involved.html">Get involved</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../content/project/contact.html">Contact</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Time Series</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../content/time_series/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../content/time_series/concepts.html">Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../content/time_series/getting_started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../content/time_series/api.html">API Documentation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Hydrology</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../content/hydrology/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../content/hydrology/concepts.html">Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../content/hydrology/getting_started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../content/hydrology/api.html">API Documentation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Energy Market</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../content/energy_market/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../content/energy_market/concepts.html">Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../content/energy_market/getting_started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../content/energy_market/api.html">API Documentation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Dashboard</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../content/dashboard/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../content/dashboard/concepts.html">Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../content/dashboard/getting_started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../content/dashboard/api.html">API Documentation</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Shyft</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>&lt;no title&gt;</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/notebooks/time_series/time_calendar_period.ipynb.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<dl>
<dt>{</dt><dd><dl>
<dt>“cells”: [</dt><dd><dl>
<dt>{</dt><dd><p>“cell_type”: “markdown”,
“metadata”: {},
“source”: [</p>
<blockquote>
<div><p>“## Time, Calendar and periodsn”,
“n”,
“This section is a dive into three of the time constructs available from SHyFT: the time type, the calendar,n”,
“and the time period.n”,
“̨n”,
“It is necessary to understand the underlying time representation, and how to manipulate it, to be able ton”,
“both display and work with time series data correctly, and to set up and perfom computations.n”</p>
</div></blockquote>
<p>]</p>
</dd>
</dl>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “markdown”,
“metadata”: {},
“source”: [</p>
<blockquote>
<div><p>“—–n”,
“n”,
“<strong>Contents:</strong>n”,
“n”,
“- [SHyFT time](#SHyFT-time)n”,
“- [Calendars](#Calendars)n”,
”  - [Initializing calendars](#Initializing-calendars)n”,
”  - [Construct localized time](#Construct-localized-time)n”,
”  - [Stringifying local time](#Stringifying-local-time)n”,
”  - [Trim time](#Trim-time)n”,
”  - [Add to time](#Add-to-time)n”,
”  - [Diff moments](#Diff-moments)n”,
”  - [Time constants](#Time-constants)n”,
“- [Time periods (UtcPeriod)](#Time-periods)n”,
”  - [Initialization](#Initialization)n”,
”  - [List of functions](#List-of-functions)n”,
”  - [Start &amp; end](#Start-&amp;-end)n”,
”  - [Timespan](#Timespan)n”,
”  - [Valid](#Valid)n”,
”  - [To string](#To-string)n”,
”  - [Trimming periods](#Trimming-periods)n”,
”  - [Intersection &amp; overlap](#Intersection-&amp;-overlap)n”,
”  - [Moment in period](#Moment-in-period)n”,
”  - [Diff a period](#Diff-a-period)n”,
“—–”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “markdown”,
“metadata”: {},
“source”: [</p>
<blockquote>
<div><p>“To start of we need to import the time series library of SHyFT, we put it into an alias <cite>sts</cite>.”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “code”,
“execution_count”: 1,
“metadata”: {},
“outputs”: [],
“source”: [</p>
<blockquote>
<div><p>“import shyft.time_series as sts”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “markdown”,
“metadata”: {},
“source”: [</p>
<blockquote>
<div><p>“### SHyFT time n”,
“n”,
“SHyFT considers time as UTC+0 internally, is is stored and used as a number in the SHyFT core and it can representn”,
“time at the microsecond resolution.n”,
“n”,
“In the Python API time is exposed through the <cite>time</cite> class. Objects of this class is not that interesting, their mainn”,
“purpose is so the C++ implementation of SHyFT can speak with the Python API correctly. In addition to this this classn”,
“helps with parsing and stringifying UTC+0 time as well.n”,
“n”,
“When using the <cite>time</cite> class is that values or objects of this class can both represent a concrete date/time, or a deltan”,
“or offset without any particular meaning as a point in time. It is simply a value able to be interpreted in multiple ways.n”,
“n”,
“We will mostly ignore the sub-second resolution of time.n”,
“n”,
“—–”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “markdown”,
“metadata”: {},
“source”: [</p>
<blockquote>
<div><p>“The first way to initialize a time value is by passing it a number of seconds since the epoch. The epoch is the originn”,
“of the time system, SHyFT uses the regular epoch: 1970-01-01T00:00:00.”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “code”,
“execution_count”: 2,
“metadata”: {</p>
<blockquote>
<div><p>“scrolled”: false</p>
</div></blockquote>
<p>},
“outputs”: [</p>
<blockquote>
<div><dl>
<dt>{</dt><dd><dl>
<dt>“data”: {</dt><dd><dl class="simple">
<dt>“text/plain”: [</dt><dd><p>“time(1559563200)”</p>
</dd>
</dl>
<p>]</p>
</dd>
</dl>
<p>},
“execution_count”: 2,
“metadata”: {},
“output_type”: “execute_result”</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>],
“source”: [</p>
<blockquote>
<div><p>“time_point = sts.time(1559563200)n”,
“time_point”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “markdown”,
“metadata”: {},
“source”: [</p>
<blockquote>
<div><p>“We can stringify the time value we just made. This will give us a time string following ISO8601:”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “code”,
“execution_count”: 3,
“metadata”: {},
“outputs”: [</p>
<blockquote>
<div><dl>
<dt>{</dt><dd><dl>
<dt>“data”: {</dt><dd><dl class="simple">
<dt>“text/plain”: [</dt><dd><p>“‘2019-06-03T12:00:00Z’”</p>
</dd>
</dl>
<p>]</p>
</dd>
</dl>
<p>},
“execution_count”: 3,
“metadata”: {},
“output_type”: “execute_result”</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>],
“source”: [</p>
<blockquote>
<div><p>“str(time_point)”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “markdown”,
“metadata”: {},
“source”: [</p>
<blockquote>
<div><p>“We can also pass the ISO8601 string back to the time class to construct a moment as specified in the string.n”,
“n”,
“<strong>Note</strong> that SHyFT only parses a subset of ISO8601 so many perfectly valid time strings produces errors,n”,
“and it does not even parse every time string it produces itself.”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “code”,
“execution_count”: 4,
“metadata”: {</p>
<blockquote>
<div><p>“scrolled”: false</p>
</div></blockquote>
<p>},
“outputs”: [</p>
<blockquote>
<div><dl>
<dt>{</dt><dd><dl>
<dt>“data”: {</dt><dd><dl class="simple">
<dt>“text/plain”: [</dt><dd><p>“time(1559563200)”</p>
</dd>
</dl>
<p>]</p>
</dd>
</dl>
<p>},
“execution_count”: 4,
“metadata”: {},
“output_type”: “execute_result”</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>],
“source”: [</p>
<blockquote>
<div><p>“sts.time(‘2019-06-03T12:00:00.000000Z’)  # mostly iso8601 time strings”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “markdown”,
“metadata”: {},
“source”: [</p>
<blockquote>
<div><p>“An example of a ISO8601 that does not work is if we add the UTC-offset”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “code”,
“execution_count”: 5,
“metadata”: {},
“outputs”: [</p>
<blockquote>
<div><dl>
<dt>{</dt><dd><p>“name”: “stdout”,
“output_type”: “stream”,
“text”: [</p>
<blockquote>
<div><p>“Needs format ‘YYYY-MM-DDThh:mm:ssZ’: got 2019-06-03T11:00:00.000000+01n”</p>
</div></blockquote>
<p>]</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>],
“source”: [</p>
<blockquote>
<div><p>“try:n”,
”    sts.time(‘2019-06-03T11:00:00.000000+01’)n”,
“except RuntimeError as e:n”,
”    print(e)”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “markdown”,
“metadata”: {},
“source”: [</p>
<blockquote>
<div><p>“Since time is a simple number we can work with it using simple arithmetics. We can add or subtract to it using <cite>+</cite> and <cite>-</cite>, multiply and divide it using <cite>*</cite> and <cite>/</cite>.n”,
“n”,
“When doing arithmetics with time we can use regular numbers, the result will be a <cite>time</cite> object if at least onen”,
“<cite>time</cite> object is involved in the computation. Numbers will be interpreted as seconds, while any fractional partsn”,
“of the numbers will be interpreted as sub-seconds down to microseconds.n”,
“n”,
“The next cell add one hour, 3600 seconds, to the time point we defined in the start of this section:”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “code”,
“execution_count”: 6,
“metadata”: {},
“outputs”: [</p>
<blockquote>
<div><dl>
<dt>{</dt><dd><dl>
<dt>“data”: {</dt><dd><dl class="simple">
<dt>“text/plain”: [</dt><dd><p>“‘2019-06-03T13:00:00Z’”</p>
</dd>
</dl>
<p>]</p>
</dd>
</dl>
<p>},
“execution_count”: 6,
“metadata”: {},
“output_type”: “execute_result”</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>],
“source”: [</p>
<blockquote>
<div><p>“str(time_point + 3600)”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “markdown”,
“metadata”: {},
“source”: [</p>
<blockquote>
<div><p>“To get the current time we can use <cite>utctime_now()</cite> that we imported earlier. This function returns a time point representing the time at which the function was called:”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “code”,
“execution_count”: 7,
“metadata”: {},
“outputs”: [</p>
<blockquote>
<div><dl>
<dt>{</dt><dd><dl>
<dt>“data”: {</dt><dd><dl class="simple">
<dt>“text/plain”: [</dt><dd><p>“‘2021-03-15T13:19:49.211212Z’”</p>
</dd>
</dl>
<p>]</p>
</dd>
</dl>
<p>},
“execution_count”: 7,
“metadata”: {},
“output_type”: “execute_result”</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>],
“source”: [</p>
<blockquote>
<div><p>“str(sts.utctime_now())”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “markdown”,
“metadata”: {},
“source”: [</p>
<blockquote>
<div><p>“The three time constants we imported represent respectivly the least and largest time representable, and invalid time.n”,
“n”,
“The minimum and maximum time constructs are mostly usefull as default values, and for creating time periods spanningn”,
“&quot;all&quot; of time.n”,
“n”,
“Invalid time may be returned by some functions to represent that whatever operation it were to do did not work,n”,
“and some SHyFT constructs initialize to it by default.”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “code”,
“execution_count”: 8,
“metadata”: {},
“outputs”: [</p>
<blockquote>
<div><dl>
<dt>{</dt><dd><dl>
<dt>“data”: {</dt><dd><dl class="simple">
<dt>“text/plain”: [</dt><dd><p>“time(-9223372036854.775391)”</p>
</dd>
</dl>
<p>]</p>
</dd>
</dl>
<p>},
“execution_count”: 8,
“metadata”: {},
“output_type”: “execute_result”</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>],
“source”: [</p>
<blockquote>
<div><p>“sts.min_utctime”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “code”,
“execution_count”: 9,
“metadata”: {},
“outputs”: [</p>
<blockquote>
<div><dl>
<dt>{</dt><dd><dl>
<dt>“data”: {</dt><dd><dl class="simple">
<dt>“text/plain”: [</dt><dd><p>“time(9223372036854.775391)”</p>
</dd>
</dl>
<p>]</p>
</dd>
</dl>
<p>},
“execution_count”: 9,
“metadata”: {},
“output_type”: “execute_result”</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>],
“source”: [</p>
<blockquote>
<div><p>“sts.max_utctime”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “code”,
“execution_count”: 10,
“metadata”: {},
“outputs”: [</p>
<blockquote>
<div><dl>
<dt>{</dt><dd><dl>
<dt>“data”: {</dt><dd><dl class="simple">
<dt>“text/plain”: [</dt><dd><p>“time(-9223372036854.775391)”</p>
</dd>
</dl>
<p>]</p>
</dd>
</dl>
<p>},
“execution_count”: 10,
“metadata”: {},
“output_type”: “execute_result”</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>],
“source”: [</p>
<blockquote>
<div><p>“sts.no_utctime”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “markdown”,
“metadata”: {},
“source”: [</p>
<blockquote>
<div><p>“—–n”,
“n”,
“### Calendarsn”,
“n”,
“Since SHyFT represent time solely as UTC+0 we need some construct that is able to work with localized time.n”,
“This is the purpose of the calendar construct.”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “markdown”,
“metadata”: {},
“source”: [</p>
<blockquote>
<div><p>“#### Initializing calendarsn”,
“n”,
“To construct a SHyFT calendar we need to provide the time zone specification it should use. If we do not specifyn”,
“any time zone it defaults to UTC+0.”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “code”,
“execution_count”: 11,
“metadata”: {},
“outputs”: [],
“source”: [</p>
<blockquote>
<div><p>“utc = sts.Calendar()”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “code”,
“execution_count”: 12,
“metadata”: {},
“outputs”: [],
“source”: [</p>
<blockquote>
<div><p>“utc_p5 = sts.Calendar(‘UTC+5’)”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “code”,
“execution_count”: 13,
“metadata”: {},
“outputs”: [],
“source”: [</p>
<blockquote>
<div><p>“utc_m2 = sts.Calendar(‘UTC-2’)”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “code”,
“execution_count”: 14,
“metadata”: {},
“outputs”: [],
“source”: [</p>
<blockquote>
<div><p>“oslo = sts.Calendar(‘Europe/Oslo’)”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “markdown”,
“metadata”: {},
“source”: [</p>
<blockquote>
<div><p>“We can list all the available specification by calling the function <cite>region_id_list</cite> on the calendar:”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “code”,
“execution_count”: 15,
“metadata”: {},
“outputs”: [</p>
<blockquote>
<div><dl>
<dt>{</dt><dd><dl>
<dt>“data”: {</dt><dd><dl class="simple">
<dt>“text/plain”: [</dt><dd><p>“[‘Africa/Abidjan’,n”,
” ‘Africa/Accra’,n”,
” ‘Africa/Addis_Ababa’,n”,
” ‘Africa/Algiers’,n”,
” ‘Africa/Asmera’,n”,
” ‘Africa/Bamako’,n”,
” ‘Africa/Bangui’,n”,
” ‘Africa/Banjul’,n”,
” ‘Africa/Bissau’,n”,
” ‘Africa/Blantyre’,n”,
” ‘Africa/Brazzaville’,n”,
” ‘Africa/Bujumbura’,n”,
” ‘Africa/Cairo’,n”,
” ‘Africa/Casablanca’,n”,
” ‘Africa/Ceuta’,n”,
” ‘Africa/Conakry’,n”,
” ‘Africa/Dakar’,n”,
” ‘Africa/Dar_es_Salaam’,n”,
” ‘Africa/Djibouti’,n”,
” ‘Africa/Douala’,n”,
” ‘Africa/El_Aaiun’,n”,
” ‘Africa/Freetown’,n”,
” ‘Africa/Gaborone’,n”,
” ‘Africa/Harare’,n”,
” ‘Africa/Johannesburg’,n”,
” ‘Africa/Kampala’,n”,
” ‘Africa/Khartoum’,n”,
” ‘Africa/Kigali’,n”,
” ‘Africa/Kinshasa’,n”,
” ‘Africa/Lagos’,n”,
” ‘Africa/Libreville’,n”,
” ‘Africa/Lome’,n”,
” ‘Africa/Luanda’,n”,
” ‘Africa/Lubumbashi’,n”,
” ‘Africa/Lusaka’,n”,
” ‘Africa/Malabo’,n”,
” ‘Africa/Maputo’,n”,
” ‘Africa/Maseru’,n”,
” ‘Africa/Mbabane’,n”,
” ‘Africa/Mogadishu’,n”,
” ‘Africa/Monrovia’,n”,
” ‘Africa/Nairobi’,n”,
” ‘Africa/Ndjamena’,n”,
” ‘Africa/Niamey’,n”,
” ‘Africa/Nouakchott’,n”,
” ‘Africa/Ouagadougou’,n”,
” ‘Africa/Porto-Novo’,n”,
” ‘Africa/Sao_Tome’,n”,
” ‘Africa/Timbuktu’,n”,
” ‘Africa/Tripoli’,n”,
” ‘Africa/Tunis’,n”,
” ‘Africa/Windhoek’,n”,
” ‘America/Adak’,n”,
” ‘America/Anchorage’,n”,
” ‘America/Anguilla’,n”,
” ‘America/Antigua’,n”,
” ‘America/Araguaina’,n”,
” ‘America/Aruba’,n”,
” ‘America/Asuncion’,n”,
” ‘America/Barbados’,n”,
” ‘America/Belem’,n”,
” ‘America/Belize’,n”,
” ‘America/Boa_Vista’,n”,
” ‘America/Bogota’,n”,
” ‘America/Boise’,n”,
” ‘America/Buenos_Aires’,n”,
” ‘America/Cambridge_Bay’,n”,
” ‘America/Cancun’,n”,
” ‘America/Caracas’,n”,
” ‘America/Catamarca’,n”,
” ‘America/Cayenne’,n”,
” ‘America/Cayman’,n”,
” ‘America/Chicago’,n”,
” ‘America/Chihuahua’,n”,
” ‘America/Cordoba’,n”,
” ‘America/Costa_Rica’,n”,
” ‘America/Cuiaba’,n”,
” ‘America/Curacao’,n”,
” ‘America/Danmarkshavn’,n”,
” ‘America/Dawson’,n”,
” ‘America/Dawson_Creek’,n”,
” ‘America/Denver’,n”,
” ‘America/Detroit’,n”,
” ‘America/Dominica’,n”,
” ‘America/Edmonton’,n”,
” ‘America/Eirunepe’,n”,
” ‘America/El_Salvador’,n”,
” ‘America/Fortaleza’,n”,
” ‘America/Glace_Bay’,n”,
” ‘America/Godthab’,n”,
” ‘America/Goose_Bay’,n”,
” ‘America/Grand_Turk’,n”,
” ‘America/Grenada’,n”,
” ‘America/Guadeloupe’,n”,
” ‘America/Guatemala’,n”,
” ‘America/Guayaquil’,n”,
” ‘America/Guyana’,n”,
” ‘America/Halifax’,n”,
” ‘America/Havana’,n”,
” ‘America/Hermosillo’,n”,
” ‘America/Indiana/Indianapolis’,n”,
” ‘America/Indiana/Knox’,n”,
” ‘America/Indiana/Marengo’,n”,
” ‘America/Indiana/Vevay’,n”,
” ‘America/Indianapolis’,n”,
” ‘America/Inuvik’,n”,
” ‘America/Iqaluit’,n”,
” ‘America/Jamaica’,n”,
” ‘America/Jujuy’,n”,
” ‘America/Juneau’,n”,
” ‘America/Kentucky/Louisville’,n”,
” ‘America/Kentucky/Monticello’,n”,
” ‘America/La_Paz’,n”,
” ‘America/Lima’,n”,
” ‘America/Los_Angeles’,n”,
” ‘America/Louisville’,n”,
” ‘America/Maceio’,n”,
” ‘America/Managua’,n”,
” ‘America/Manaus’,n”,
” ‘America/Martinique’,n”,
” ‘America/Mazatlan’,n”,
” ‘America/Mendoza’,n”,
” ‘America/Menominee’,n”,
” ‘America/Merida’,n”,
” ‘America/Mexico_City’,n”,
” ‘America/Miquelon’,n”,
” ‘America/Monterrey’,n”,
” ‘America/Montevideo’,n”,
” ‘America/Montreal’,n”,
” ‘America/Montserrat’,n”,
” ‘America/Nassau’,n”,
” ‘America/New_York’,n”,
” ‘America/Nipigon’,n”,
” ‘America/Nome’,n”,
” ‘America/Noronha’,n”,
” ‘America/North_Dakota/Center’,n”,
” ‘America/Panama’,n”,
” ‘America/Pangnirtung’,n”,
” ‘America/Paramaribo’,n”,
” ‘America/Phoenix’,n”,
” ‘America/Port-au-Prince’,n”,
” ‘America/Port_of_Spain’,n”,
” ‘America/Porto_Velho’,n”,
” ‘America/Puerto_Rico’,n”,
” ‘America/Rainy_River’,n”,
” ‘America/Rankin_Inlet’,n”,
” ‘America/Recife’,n”,
” ‘America/Regina’,n”,
” ‘America/Rio_Branco’,n”,
” ‘America/Rosario’,n”,
” ‘America/Santiago’,n”,
” ‘America/Santo_Domingo’,n”,
” ‘America/Sao_Paulo’,n”,
” ‘America/Scoresbysund’,n”,
” ‘America/Shiprock’,n”,
” ‘America/St_Johns’,n”,
” ‘America/St_Kitts’,n”,
” ‘America/St_Lucia’,n”,
” ‘America/St_Thomas’,n”,
” ‘America/St_Vincent’,n”,
” ‘America/Swift_Current’,n”,
” ‘America/Tegucigalpa’,n”,
” ‘America/Thule’,n”,
” ‘America/Thunder_Bay’,n”,
” ‘America/Tijuana’,n”,
” ‘America/Tortola’,n”,
” ‘America/Vancouver’,n”,
” ‘America/Whitehorse’,n”,
” ‘America/Winnipeg’,n”,
” ‘America/Yakutat’,n”,
” ‘America/Yellowknife’,n”,
” ‘Antarctica/Casey’,n”,
” ‘Antarctica/Davis’,n”,
” ‘Antarctica/DumontDUrville’,n”,
” ‘Antarctica/Mawson’,n”,
” ‘Antarctica/McMurdo’,n”,
” ‘Antarctica/Palmer’,n”,
” ‘Antarctica/South_Pole’,n”,
” ‘Antarctica/Syowa’,n”,
” ‘Antarctica/Vostok’,n”,
” ‘Arctic/Longyearbyen’,n”,
” ‘Asia/Aden’,n”,
” ‘Asia/Almaty’,n”,
” ‘Asia/Amman’,n”,
” ‘Asia/Anadyr’,n”,
” ‘Asia/Aqtau’,n”,
” ‘Asia/Aqtobe’,n”,
” ‘Asia/Ashgabat’,n”,
” ‘Asia/Baghdad’,n”,
” ‘Asia/Bahrain’,n”,
” ‘Asia/Baku’,n”,
” ‘Asia/Bangkok’,n”,
” ‘Asia/Beirut’,n”,
” ‘Asia/Bishkek’,n”,
” ‘Asia/Brunei’,n”,
” ‘Asia/Calcutta’,n”,
” ‘Asia/Choibalsan’,n”,
” ‘Asia/Chongqing’,n”,
” ‘Asia/Colombo’,n”,
” ‘Asia/Damascus’,n”,
” ‘Asia/Dhaka’,n”,
” ‘Asia/Dili’,n”,
” ‘Asia/Dubai’,n”,
” ‘Asia/Dushanbe’,n”,
” ‘Asia/Gaza’,n”,
” ‘Asia/Harbin’,n”,
” ‘Asia/Hong_Kong’,n”,
” ‘Asia/Hovd’,n”,
” ‘Asia/Irkutsk’,n”,
” ‘Asia/Istanbul’,n”,
” ‘Asia/Jakarta’,n”,
” ‘Asia/Jayapura’,n”,
” ‘Asia/Jerusalem’,n”,
” ‘Asia/Kabul’,n”,
” ‘Asia/Kamchatka’,n”,
” ‘Asia/Karachi’,n”,
” ‘Asia/Kashgar’,n”,
” ‘Asia/Katmandu’,n”,
” ‘Asia/Krasnoyarsk’,n”,
” ‘Asia/Kuala_Lumpur’,n”,
” ‘Asia/Kuching’,n”,
” ‘Asia/Kuwait’,n”,
” ‘Asia/Macao’,n”,
” ‘Asia/Macau’,n”,
” ‘Asia/Magadan’,n”,
” ‘Asia/Makassar’,n”,
” ‘Asia/Manila’,n”,
” ‘Asia/Muscat’,n”,
” ‘Asia/Nicosia’,n”,
” ‘Asia/Novosibirsk’,n”,
” ‘Asia/Omsk’,n”,
” ‘Asia/Oral’,n”,
” ‘Asia/Phnom_Penh’,n”,
” ‘Asia/Pontianak’,n”,
” ‘Asia/Pyongyang’,n”,
” ‘Asia/Qatar’,n”,
” ‘Asia/Qyzylorda’,n”,
” ‘Asia/Rangoon’,n”,
” ‘Asia/Riyadh’,n”,
” ‘Asia/Saigon’,n”,
” ‘Asia/Sakhalin’,n”,
” ‘Asia/Samarkand’,n”,
” ‘Asia/Seoul’,n”,
” ‘Asia/Shanghai’,n”,
” ‘Asia/Singapore’,n”,
” ‘Asia/Taipei’,n”,
” ‘Asia/Tashkent’,n”,
” ‘Asia/Tbilisi’,n”,
” ‘Asia/Tehran’,n”,
” ‘Asia/Thimphu’,n”,
” ‘Asia/Tokyo’,n”,
” ‘Asia/Ujung_Pandang’,n”,
” ‘Asia/Ulaanbaatar’,n”,
” ‘Asia/Urumqi’,n”,
” ‘Asia/Vientiane’,n”,
” ‘Asia/Vladivostok’,n”,
” ‘Asia/Yakutsk’,n”,
” ‘Asia/Yekaterinburg’,n”,
” ‘Asia/Yerevan’,n”,
” ‘Atlantic/Azores’,n”,
” ‘Atlantic/Bermuda’,n”,
” ‘Atlantic/Canary’,n”,
” ‘Atlantic/Cape_Verde’,n”,
” ‘Atlantic/Faeroe’,n”,
” ‘Atlantic/Jan_Mayen’,n”,
” ‘Atlantic/Madeira’,n”,
” ‘Atlantic/Reykjavik’,n”,
” ‘Atlantic/South_Georgia’,n”,
” ‘Atlantic/St_Helena’,n”,
” ‘Atlantic/Stanley’,n”,
” ‘Australia/Adelaide’,n”,
” ‘Australia/Brisbane’,n”,
” ‘Australia/Broken_Hill’,n”,
” ‘Australia/Darwin’,n”,
” ‘Australia/Eucla’,n”,
” ‘Australia/Hobart’,n”,
” ‘Australia/Lindeman’,n”,
” ‘Australia/Lord_Howe’,n”,
” ‘Australia/Melbourne’,n”,
” ‘Australia/Perth’,n”,
” ‘Australia/Sydney’,n”,
” ‘Europe/Amsterdam’,n”,
” ‘Europe/Andorra’,n”,
” ‘Europe/Athens’,n”,
” ‘Europe/Belfast’,n”,
” ‘Europe/Belgrade’,n”,
” ‘Europe/Berlin’,n”,
” ‘Europe/Bratislava’,n”,
” ‘Europe/Brussels’,n”,
” ‘Europe/Bucharest’,n”,
” ‘Europe/Budapest’,n”,
” ‘Europe/Chisinau’,n”,
” ‘Europe/Copenhagen’,n”,
” ‘Europe/Dublin’,n”,
” ‘Europe/Gibraltar’,n”,
” ‘Europe/Helsinki’,n”,
” ‘Europe/Istanbul’,n”,
” ‘Europe/Kaliningrad’,n”,
” ‘Europe/Kiev’,n”,
” ‘Europe/Lisbon’,n”,
” ‘Europe/Ljubljana’,n”,
” ‘Europe/London’,n”,
” ‘Europe/Luxembourg’,n”,
” ‘Europe/Madrid’,n”,
” ‘Europe/Malta’,n”,
” ‘Europe/Minsk’,n”,
” ‘Europe/Monaco’,n”,
” ‘Europe/Moscow’,n”,
” ‘Europe/Nicosia’,n”,
” ‘Europe/Oslo’,n”,
” ‘Europe/Paris’,n”,
” ‘Europe/Prague’,n”,
” ‘Europe/Riga’,n”,
” ‘Europe/Rome’,n”,
” ‘Europe/Samara’,n”,
” ‘Europe/San_Marino’,n”,
” ‘Europe/Sarajevo’,n”,
” ‘Europe/Simferopol’,n”,
” ‘Europe/Skopje’,n”,
” ‘Europe/Sofia’,n”,
” ‘Europe/Stockholm’,n”,
” ‘Europe/Tallinn’,n”,
” ‘Europe/Tirane’,n”,
” ‘Europe/Uzhgorod’,n”,
” ‘Europe/Vaduz’,n”,
” ‘Europe/Vatican’,n”,
” ‘Europe/Vienna’,n”,
” ‘Europe/Vilnius’,n”,
” ‘Europe/Warsaw’,n”,
” ‘Europe/Zagreb’,n”,
” ‘Europe/Zaporozhye’,n”,
” ‘Europe/Zurich’,n”,
” ‘Indian/Antananarivo’,n”,
” ‘Indian/Chagos’,n”,
” ‘Indian/Christmas’,n”,
” ‘Indian/Cocos’,n”,
” ‘Indian/Comoro’,n”,
” ‘Indian/Kerguelen’,n”,
” ‘Indian/Mahe’,n”,
” ‘Indian/Maldives’,n”,
” ‘Indian/Mauritius’,n”,
” ‘Indian/Mayotte’,n”,
” ‘Indian/Reunion’,n”,
” ‘Pacific/Apia’,n”,
” ‘Pacific/Auckland’,n”,
” ‘Pacific/Chatham’,n”,
” ‘Pacific/Easter’,n”,
” ‘Pacific/Efate’,n”,
” ‘Pacific/Enderbury’,n”,
” ‘Pacific/Fakaofo’,n”,
” ‘Pacific/Fiji’,n”,
” ‘Pacific/Funafuti’,n”,
” ‘Pacific/Galapagos’,n”,
” ‘Pacific/Gambier’,n”,
” ‘Pacific/Guadalcanal’,n”,
” ‘Pacific/Guam’,n”,
” ‘Pacific/Honolulu’,n”,
” ‘Pacific/Johnston’,n”,
” ‘Pacific/Kiritimati’,n”,
” ‘Pacific/Kosrae’,n”,
” ‘Pacific/Kwajalein’,n”,
” ‘Pacific/Majuro’,n”,
” ‘Pacific/Marquesas’,n”,
” ‘Pacific/Midway’,n”,
” ‘Pacific/Nauru’,n”,
” ‘Pacific/Niue’,n”,
” ‘Pacific/Norfolk’,n”,
” ‘Pacific/Noumea’,n”,
” ‘Pacific/Pago_Pago’,n”,
” ‘Pacific/Palau’,n”,
” ‘Pacific/Pitcairn’,n”,
” ‘Pacific/Ponape’,n”,
” ‘Pacific/Port_Moresby’,n”,
” ‘Pacific/Rarotonga’,n”,
” ‘Pacific/Saipan’,n”,
” ‘Pacific/Tahiti’,n”,
” ‘Pacific/Tarawa’,n”,
” ‘Pacific/Tongatapu’,n”,
” ‘Pacific/Truk’,n”,
” ‘Pacific/Wake’,n”,
” ‘Pacific/Wallis’,n”,
” ‘Pacific/Yap’,n”,
” ‘UTC’,n”,
” ‘UTC+1’,n”,
” ‘UTC+2’,n”,
” ‘UTC+3’,n”,
” ‘UTC+4’,n”,
” ‘UTC+5’,n”,
” ‘UTC+6’,n”,
” ‘UTC+7’,n”,
” ‘UTC+8’,n”,
” ‘UTC+9’,n”,
” ‘UTC+10’,n”,
” ‘UTC+11’,n”,
” ‘UTC+12’,n”,
” ‘UTC-1’,n”,
” ‘UTC-2’,n”,
” ‘UTC-3’,n”,
” ‘UTC-4’,n”,
” ‘UTC-5’,n”,
” ‘UTC-6’,n”,
” ‘UTC-7’,n”,
” ‘UTC-8’,n”,
” ‘UTC-9’,n”,
” ‘UTC-10’,n”,
” ‘UTC-11’,n”,
” ‘UTC-12’,n”,
” ‘Etc/GMT’,n”,
” ‘Etc/UTC’,n”,
” ‘Etc/GMT+0’,n”,
” ‘Etc/GMT+1’,n”,
” ‘Etc/GMT+2’,n”,
” ‘Etc/GMT+3’,n”,
” ‘Etc/GMT+4’,n”,
” ‘Etc/GMT+5’,n”,
” ‘Etc/GMT+6’,n”,
” ‘Etc/GMT+7’,n”,
” ‘Etc/GMT+8’,n”,
” ‘Etc/GMT+9’,n”,
” ‘Etc/GMT+10’,n”,
” ‘Etc/GMT+11’,n”,
” ‘Etc/GMT+12’,n”,
” ‘Etc/GMT-0’,n”,
” ‘Etc/GMT-1’,n”,
” ‘Etc/GMT-2’,n”,
” ‘Etc/GMT-3’,n”,
” ‘Etc/GMT-4’,n”,
” ‘Etc/GMT-5’,n”,
” ‘Etc/GMT-6’,n”,
” ‘Etc/GMT-7’,n”,
” ‘Etc/GMT-8’,n”,
” ‘Etc/GMT-9’,n”,
” ‘Etc/GMT-10’,n”,
” ‘Etc/GMT-11’,n”,
” ‘Etc/GMT-12’,n”,
” ‘Etc/GMT-13’,n”,
” ‘Etc/GMT-14’]”</p>
</dd>
</dl>
<p>]</p>
</dd>
</dl>
<p>},
“execution_count”: 15,
“metadata”: {},
“output_type”: “execute_result”</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>],
“source”: [</p>
<blockquote>
<div><p>“list(sts.Calendar.region_id_list())”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “markdown”,
“metadata”: {},
“source”: [</p>
<blockquote>
<div><p>“#### Construct localized timen”,
“n”,
“Calendars can construct time points by using the <cite>time</cite> function on them. This function can not accept ISO8601 string,n”,
“it instead accepts numbers specifying the time point.n”,
“n”,
“The only required argument is the year, but it can accept as many as seven values, in order: year, month, day, hour, minute, second, microsecond. As long as we specify the year, we can specify as few or many of the other, but we always have to specify all values in the order listed.”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “code”,
“execution_count”: 16,
“metadata”: {},
“outputs”: [</p>
<blockquote>
<div><dl>
<dt>{</dt><dd><dl>
<dt>“data”: {</dt><dd><dl class="simple">
<dt>“text/plain”: [</dt><dd><p>“time(1546300800)”</p>
</dd>
</dl>
<p>]</p>
</dd>
</dl>
<p>},
“execution_count”: 16,
“metadata”: {},
“output_type”: “execute_result”</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>],
“source”: [</p>
<blockquote>
<div><p>“utc.time(2019)”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “code”,
“execution_count”: 17,
“metadata”: {},
“outputs”: [</p>
<blockquote>
<div><dl>
<dt>{</dt><dd><dl>
<dt>“data”: {</dt><dd><dl class="simple">
<dt>“text/plain”: [</dt><dd><p>“time(1559310750)”</p>
</dd>
</dl>
<p>]</p>
</dd>
</dl>
<p>},
“execution_count”: 17,
“metadata”: {},
“output_type”: “execute_result”</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>],
“source”: [</p>
<blockquote>
<div><p>“utc.time(2019, 5, 31, 13, 52, 30)”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “markdown”,
“metadata”: {},
“source”: [</p>
<blockquote>
<div><p>“To demonstrate that calendars produce localized time, take a look at the two following cells. Notice that the same time on the same day is specified, but the results are not equal:”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “code”,
“execution_count”: 18,
“metadata”: {},
“outputs”: [</p>
<blockquote>
<div><dl>
<dt>{</dt><dd><dl>
<dt>“data”: {</dt><dd><dl class="simple">
<dt>“text/plain”: [</dt><dd><p>“time(1559131200)”</p>
</dd>
</dl>
<p>]</p>
</dd>
</dl>
<p>},
“execution_count”: 18,
“metadata”: {},
“output_type”: “execute_result”</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>],
“source”: [</p>
<blockquote>
<div><p>“utc.time(2019, 5, 29, 12)”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “code”,
“execution_count”: 19,
“metadata”: {},
“outputs”: [</p>
<blockquote>
<div><dl>
<dt>{</dt><dd><dl>
<dt>“data”: {</dt><dd><dl class="simple">
<dt>“text/plain”: [</dt><dd><p>“time(1559124000)”</p>
</dd>
</dl>
<p>]</p>
</dd>
</dl>
<p>},
“execution_count”: 19,
“metadata”: {},
“output_type”: “execute_result”</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>],
“source”: [</p>
<blockquote>
<div><p>“oslo.time(2019, 5, 29, 12)”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “markdown”,
“metadata”: {},
“source”: [</p>
<blockquote>
<div><p>“#### Stringifying local timen”,
“n”,
“Calendars have a <cite>to_string</cite> function, this function produces ISO8601 strings with offset like the calendar.n”,
“n”,
“<strong>Note</strong> that SHyFT (at the time of writing) cannot parse these strings again, as it only parses ISO8601 string where bothn”,
“the hour and minute of the offset is specified, but it writes strings with only the hour. “</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “code”,
“execution_count”: 20,
“metadata”: {},
“outputs”: [</p>
<blockquote>
<div><dl>
<dt>{</dt><dd><dl>
<dt>“data”: {</dt><dd><dl class="simple">
<dt>“text/plain”: [</dt><dd><p>“‘2021-03-15T14:19:49.322653+01’”</p>
</dd>
</dl>
<p>]</p>
</dd>
</dl>
<p>},
“execution_count”: 20,
“metadata”: {},
“output_type”: “execute_result”</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>],
“source”: [</p>
<blockquote>
<div><p>“# stringify now using the local calendarn”,
“oslo.to_string(sts.utctime_now())”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “markdown”,
“metadata”: {},
“source”: [</p>
<blockquote>
<div><p>“#### Trim timen”,
“n”,
“Often when given an arbitrary time point we can trim it to move it back to a time point with some specificn”,
“meaning like the beggining of the hour or week containing the time point. Take a look at the end of the calendarn”,
“section to see the list of time constants available for trimming.n”,
“n”,
“Trimming a time point is done using calendar semantics, so you can get different results by using different calendars.”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “code”,
“execution_count”: 21,
“metadata”: {},
“outputs”: [</p>
<blockquote>
<div><dl>
<dt>{</dt><dd><dl>
<dt>“data”: {</dt><dd><dl class="simple">
<dt>“text/plain”: [</dt><dd><p>“‘2021-03-15T14:00:00+01’”</p>
</dd>
</dl>
<p>]</p>
</dd>
</dl>
<p>},
“execution_count”: 21,
“metadata”: {},
“output_type”: “execute_result”</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>],
“source”: [</p>
<blockquote>
<div><p>“# get the current time, then trim it to the start of the current hourn”,
“now = sts.utctime_now()n”,
“now_hour = oslo.trim(now, sts.Calendar.HOUR)n”,
“n”,
“oslo.to_string(now_hour)”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “code”,
“execution_count”: 22,
“metadata”: {},
“outputs”: [</p>
<blockquote>
<div><dl>
<dt>{</dt><dd><dl>
<dt>“data”: {</dt><dd><dl class="simple">
<dt>“text/plain”: [</dt><dd><p>“‘2021-03-15T00:00:00+01’”</p>
</dd>
</dl>
<p>]</p>
</dd>
</dl>
<p>},
“execution_count”: 22,
“metadata”: {},
“output_type”: “execute_result”</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>],
“source”: [</p>
<blockquote>
<div><p>“# get the current time, then trim it to the start of the current hourn”,
“now = sts.utctime_now()n”,
“now_week = oslo.trim(now, sts.Calendar.WEEK)n”,
“n”,
“oslo.to_string(now_week)”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “markdown”,
“metadata”: {},
“source”: [</p>
<blockquote>
<div><p>“#### Add to timen”,
“n”,
“If you want to add some offset to a time point that is not a specific length, like a month which could be 28, 29, 30,n”,
“or 31 days, you should use the <cite>add</cite> function which handles these offsets easily.n”,
“n”,
“The predefined offsets available for add is listed at the end of the calendar section.n”,
“n”,
“The three next cells demonstrates the add function, first we retreive the current time and trim it to the start ofn”,
“the current month. The next two cells first add two months without calendar sematics and then with calendar semantics.n”,
“Notice how you get diffenet results.”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “code”,
“execution_count”: 23,
“metadata”: {},
“outputs”: [</p>
<blockquote>
<div><dl>
<dt>{</dt><dd><dl>
<dt>“data”: {</dt><dd><dl class="simple">
<dt>“text/plain”: [</dt><dd><p>“‘2021-03-01T00:00:00+01’”</p>
</dd>
</dl>
<p>]</p>
</dd>
</dl>
<p>},
“execution_count”: 23,
“metadata”: {},
“output_type”: “execute_result”</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>],
“source”: [</p>
<blockquote>
<div><p>“# get the current time, then trim it to the start of the current hourn”,
“now = sts.utctime_now()n”,
“now_month = oslo.trim(now, sts.Calendar.MONTH)n”,
“n”,
“oslo.to_string(now_month)”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “code”,
“execution_count”: 24,
“metadata”: {},
“outputs”: [</p>
<blockquote>
<div><dl>
<dt>{</dt><dd><dl>
<dt>“data”: {</dt><dd><dl class="simple">
<dt>“text/plain”: [</dt><dd><p>“‘2021-04-30T01:00:00+02’”</p>
</dd>
</dl>
<p>]</p>
</dd>
</dl>
<p>},
“execution_count”: 24,
“metadata”: {},
“output_type”: “execute_result”</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>],
“source”: [</p>
<blockquote>
<div><p>“# add two months without calendar semanticsn”,
“two_months = now_month + 2*sts.Calendar.MONTHn”,
“n”,
“oslo.to_string(two_months)”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “code”,
“execution_count”: 25,
“metadata”: {},
“outputs”: [</p>
<blockquote>
<div><dl>
<dt>{</dt><dd><dl>
<dt>“data”: {</dt><dd><dl class="simple">
<dt>“text/plain”: [</dt><dd><p>“‘2021-05-01T00:00:00+02’”</p>
</dd>
</dl>
<p>]</p>
</dd>
</dl>
<p>},
“execution_count”: 25,
“metadata”: {},
“output_type”: “execute_result”</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>],
“source”: [</p>
<blockquote>
<div><p>“# add two months with calendar semanticsn”,
“two_months = oslo.add(now_month, sts.Calendar.MONTH, 2)n”,
“n”,
“oslo.to_string(two_months)”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “markdown”,
“metadata”: {},
“source”: [</p>
<blockquote>
<div><p>“#### Diff momentsn”,
“n”,
“Using a calendar we can also get the number of times we can subdivide a timespan. Some timespans work with calendarn”,
“semantics, like a month, or a year which can be off differing length. The predefined time spans that have calendarn”,
“semantics is listed at the end of the calendar section.n”,
“n”,
“When using the <cite>diff_units</cite> function we specify first the start and end time points, then the delta to subdivide with.n”,
“n”,
“The function does not return any remainder, and only return the whole number of times the delta subdivied the period.n”,
“You need check for a remainder manually if required.”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “code”,
“execution_count”: 26,
“metadata”: {},
“outputs”: [</p>
<blockquote>
<div><dl>
<dt>{</dt><dd><dl>
<dt>“data”: {</dt><dd><dl class="simple">
<dt>“text/plain”: [</dt><dd><p>“19”</p>
</dd>
</dl>
<p>]</p>
</dd>
</dl>
<p>},
“execution_count”: 26,
“metadata”: {},
“output_type”: “execute_result”</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>],
“source”: [</p>
<blockquote>
<div><p>“# define start, end, and deltan”,
“t0 = utc.time(2018, 5, 5)n”,
“tN = utc.time(2018, 9, 17)n”,
“dt = sts.Calendar.WEEKn”,
“n”,
“# get the number of times dt subdivides [t0, tN&gt;n”,
“n_weeks = utc.diff_units(t0, tN, dt)n”,
“n_weeks”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “markdown”,
“metadata”: {},
“source”: [</p>
<blockquote>
<div><p>“Notice that the timespan we choose did not subdivide fully into weeks. If we add the number of weeks to the start pointn”,
“we do not get fully to the end point:”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “code”,
“execution_count”: 27,
“metadata”: {},
“outputs”: [</p>
<blockquote>
<div><dl>
<dt>{</dt><dd><dl>
<dt>“data”: {</dt><dd><dl class="simple">
<dt>“text/plain”: [</dt><dd><p>“‘2018-09-15T00:00:00Z’”</p>
</dd>
</dl>
<p>]</p>
</dd>
</dl>
<p>},
“execution_count”: 27,
“metadata”: {},
“output_type”: “execute_result”</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>],
“source”: [</p>
<blockquote>
<div><p>“# add the computed number of weeks to the start pointn”,
“utc.to_string(t0 + n_weeks*dt)”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “markdown”,
“metadata”: {},
“source”: [</p>
<blockquote>
<div><p>“#### Time constantsn”,
“n”,
“The predefined time constants in SHyFT is listed below. These are the ones for wich calendar semantics work.n”,
“n”,
“- <cite>Calendar.SECOND</cite>: One secondn”,
“- <cite>Calendar.MINUTE</cite>: One minute, 60 secondsn”,
“- <cite>Calendar.HOUR</cite>: One hour, 3600 secondsn”,
“- <cite>Calendar.WEEK</cite>: Defines a semantic weekn”,
“- <cite>Calendar.DAY</cite>: Defines a semantic dayn”,
“- <cite>Calendar.QUARTER</cite>:  Defines a semantic quarter, 3 monthsn”,
“- <cite>Calendar.MONTH</cite>: Defines a semantic monthn”,
“- <cite>Calendar.YEAR</cite>: Defines a semantic year”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “markdown”,
“metadata”: {},
“source”: [</p>
<blockquote>
<div><p>“—–n”,
“n”,
“### Time periodsn”,
“n”,
“SHyFT has a time period construct to represent a pair of time points representing a timespan. The type exposed throughn”,
“the SHyFT Python API is the <cite>UtcPeriod</cite> construct.n”,
“n”,
“The time period is represented as a half-open interval: The start value is included in the interval, while the end value is not included.n”,
“n”,
“The two values of the period are <cite>time</cite> values, and thus represented as UTC+0.”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “markdown”,
“metadata”: {},
“source”: [</p>
<blockquote>
<div><p>“#### Initializationn”,
“n”,
“A <cite>UtcPeriod</cite> is initialized from two <cite>time</cite> values or two numbers representing time:”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “code”,
“execution_count”: 28,
“metadata”: {},
“outputs”: [</p>
<blockquote>
<div><dl>
<dt>{</dt><dd><dl>
<dt>“data”: {</dt><dd><dl class="simple">
<dt>“text/plain”: [</dt><dd><p>“[2018-01-01T00:00:00Z,2019-01-01T00:00:00Z&gt;”</p>
</dd>
</dl>
<p>]</p>
</dd>
</dl>
<p>},
“execution_count”: 28,
“metadata”: {},
“output_type”: “execute_result”</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>],
“source”: [</p>
<blockquote>
<div><p>“sts.UtcPeriod(utc.time(2018), utc.time(2019))”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “code”,
“execution_count”: 29,
“metadata”: {},
“outputs”: [</p>
<blockquote>
<div><dl>
<dt>{</dt><dd><dl>
<dt>“data”: {</dt><dd><dl class="simple">
<dt>“text/plain”: [</dt><dd><p>“[2018-01-01T00:00:00Z,2019-01-01T00:00:00Z&gt;”</p>
</dd>
</dl>
<p>]</p>
</dd>
</dl>
<p>},
“execution_count”: 29,
“metadata”: {},
“output_type”: “execute_result”</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>],
“source”: [</p>
<blockquote>
<div><p>“sts.UtcPeriod(1514764800, 1546300800)”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “markdown”,
“metadata”: {},
“source”: [</p>
<blockquote>
<div><p>“#### List of functionsn”,
“n”,
“<cite>UtcPeriod</cite> has several built-in  functions and properties. n”,
“* startn”,
“* endn”,
“* timespann”,
“* validn”,
“* to_stringn”,
“* trimn”,
“* intersectionn”,
“* overlapsn”,
“* containsn”,
“* diff_unitsn”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “markdown”,
“metadata”: {},
“source”: [</p>
<blockquote>
<div><p>“#### Start &amp; endn”,
“n”,
“<cite>start</cite> and <cite>end</cite> are properites which simply returns the start and end time points of the period.”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “code”,
“execution_count”: 30,
“metadata”: {},
“outputs”: [</p>
<blockquote>
<div><dl>
<dt>{</dt><dd><dl>
<dt>“data”: {</dt><dd><dl class="simple">
<dt>“text/plain”: [</dt><dd><p>“(time(1514764800), time(1546300800))”</p>
</dd>
</dl>
<p>]</p>
</dd>
</dl>
<p>},
“execution_count”: 30,
“metadata”: {},
“output_type”: “execute_result”</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>],
“source”: [</p>
<blockquote>
<div><p>“period = sts.UtcPeriod(utc.time(2018), utc.time(2019))n”,
“period.start, period.end”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “markdown”,
“metadata”: {},
“source”: [</p>
<blockquote>
<div><p>“#### Timespann”,
“n”,
“<cite>timespan</cite> returns the $\Delta t$ in seconds”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “code”,
“execution_count”: 31,
“metadata”: {},
“outputs”: [</p>
<blockquote>
<div><dl>
<dt>{</dt><dd><dl>
<dt>“data”: {</dt><dd><dl class="simple">
<dt>“text/plain”: [</dt><dd><p>“time(31536000)”</p>
</dd>
</dl>
<p>]</p>
</dd>
</dl>
<p>},
“execution_count”: 31,
“metadata”: {},
“output_type”: “execute_result”</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>],
“source”: [</p>
<blockquote>
<div><p>“period.timespan()”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “markdown”,
“metadata”: {},
“source”: [</p>
<blockquote>
<div><p>“#### Validn”,
“n”,
“<cite>valid</cite> returns a boolean if the period is valid or not.”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “code”,
“execution_count”: 32,
“metadata”: {},
“outputs”: [</p>
<blockquote>
<div><dl>
<dt>{</dt><dd><dl>
<dt>“data”: {</dt><dd><dl class="simple">
<dt>“text/plain”: [</dt><dd><p>“True”</p>
</dd>
</dl>
<p>]</p>
</dd>
</dl>
<p>},
“execution_count”: 32,
“metadata”: {},
“output_type”: “execute_result”</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>],
“source”: [</p>
<blockquote>
<div><p>“period.valid()”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “code”,
“execution_count”: 33,
“metadata”: {},
“outputs”: [</p>
<blockquote>
<div><dl>
<dt>{</dt><dd><dl>
<dt>“data”: {</dt><dd><dl class="simple">
<dt>“text/plain”: [</dt><dd><p>“False”</p>
</dd>
</dl>
<p>]</p>
</dd>
</dl>
<p>},
“execution_count”: 33,
“metadata”: {},
“output_type”: “execute_result”</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>],
“source”: [</p>
<blockquote>
<div><p>“invalid_period = sts.UtcPeriod(utc.time(2019), utc.time(2018))n”,
“invalid_period.valid()”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “markdown”,
“metadata”: {},
“source”: [</p>
<blockquote>
<div><p>“#### To stringn”,
“n”,
“<cite>to_string</cite> returns the period start and end in ISO8601 format with the half-open interval symbols as a string.”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “code”,
“execution_count”: 34,
“metadata”: {},
“outputs”: [</p>
<blockquote>
<div><dl>
<dt>{</dt><dd><dl>
<dt>“data”: {</dt><dd><dl class="simple">
<dt>“text/plain”: [</dt><dd><p>“’[2018-01-01T00:00:00Z,2019-01-01T00:00:00Z&gt;’”</p>
</dd>
</dl>
<p>]</p>
</dd>
</dl>
<p>},
“execution_count”: 34,
“metadata”: {},
“output_type”: “execute_result”</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>],
“source”: [</p>
<blockquote>
<div><p>“period.to_string()”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “markdown”,
“metadata”: {},
“source”: [</p>
<blockquote>
<div><p>“#### Trimming periodsn”,
“n”,
“As with time values, time periods can also be trimmed to multiples of specific time deltas. When you have a <cite>UtcPeriod</cite>n”,
“object you call the <cite>trim</cite> function on it to do this.n”,
“n”,
“The time deltas are the same ones listed at the end of the calendar section.n”,
“n”,
“When trimming time periods we have two modes to choose between. We can trim outwards to a multiple of the delta,n”,
“or inwards to a multiple of the delta. This is specified as the third argument to the function. If it is leftn”,
“unspecified the function defaults to trimming inwards.n”,
“n”,
“The first argument to the function is the calendar to use when trimming, the second argument is the delta ton”,
“trim to, and the optional third argument is the trim policy.”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “code”,
“execution_count”: 35,
“metadata”: {},
“outputs”: [</p>
<blockquote>
<div><dl>
<dt>{</dt><dd><dl>
<dt>“data”: {</dt><dd><dl class="simple">
<dt>“text/plain”: [</dt><dd><p>“[2018-01-01T00:00:00Z,2019-01-01T00:00:00Z&gt;”</p>
</dd>
</dl>
<p>]</p>
</dd>
</dl>
<p>},
“execution_count”: 35,
“metadata”: {},
“output_type”: “execute_result”</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>],
“source”: [</p>
<blockquote>
<div><p>“period = sts.UtcPeriod(utc.time(2017, 6), utc.time(2019, 6))n”,
“n”,
“period.trim(utc, sts.Calendar.YEAR, sts.trim_policy.TRIM_IN)”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “code”,
“execution_count”: 36,
“metadata”: {},
“outputs”: [</p>
<blockquote>
<div><dl>
<dt>{</dt><dd><dl>
<dt>“data”: {</dt><dd><dl class="simple">
<dt>“text/plain”: [</dt><dd><p>“[2017-01-01T00:00:00Z,2020-01-01T00:00:00Z&gt;”</p>
</dd>
</dl>
<p>]</p>
</dd>
</dl>
<p>},
“execution_count”: 36,
“metadata”: {},
“output_type”: “execute_result”</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>],
“source”: [</p>
<blockquote>
<div><p>“period = sts.UtcPeriod(utc.time(2017, 6), utc.time(2019, 6))n”,
“n”,
“period.trim(utc, sts.Calendar.YEAR, sts.trim_policy.TRIM_OUT)”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “markdown”,
“metadata”: {},
“source”: [</p>
<blockquote>
<div><p>“#### Intersection &amp; overlapn”,
“n”,
“The time period construct have the functions to determine overlap between periods, and compute the intersectionn”,
“between two periods.n”,
“n”,
“To demonstrate we define three periods, one for the first three month of the year, one for the middle three,n”,
“and one for the last three:”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “code”,
“execution_count”: 37,
“metadata”: {},
“outputs”: [],
“source”: [</p>
<blockquote>
<div><p>“period_1 = sts.UtcPeriod(utc.time(2018, 1), utc.time(2018, 7))n”,
“period_2 = sts.UtcPeriod(utc.time(2018, 4), utc.time(2018, 10))n”,
“period_3 = sts.UtcPeriod(utc.time(2018, 7), utc.time(2019, 1))”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “markdown”,
“metadata”: {},
“source”: [</p>
<blockquote>
<div><p>“To determine if they overlap we can call the <cite>overlaps</cite> function on one of the periods, and pass the other as argument:”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “code”,
“execution_count”: 38,
“metadata”: {},
“outputs”: [</p>
<blockquote>
<div><dl>
<dt>{</dt><dd><dl>
<dt>“data”: {</dt><dd><dl class="simple">
<dt>“text/plain”: [</dt><dd><p>“True”</p>
</dd>
</dl>
<p>]</p>
</dd>
</dl>
<p>},
“execution_count”: 38,
“metadata”: {},
“output_type”: “execute_result”</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>],
“source”: [</p>
<blockquote>
<div><p>“period_1.overlaps(period_2)”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “code”,
“execution_count”: 39,
“metadata”: {},
“outputs”: [</p>
<blockquote>
<div><dl>
<dt>{</dt><dd><dl>
<dt>“data”: {</dt><dd><dl class="simple">
<dt>“text/plain”: [</dt><dd><p>“False”</p>
</dd>
</dl>
<p>]</p>
</dd>
</dl>
<p>},
“execution_count”: 39,
“metadata”: {},
“output_type”: “execute_result”</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>],
“source”: [</p>
<blockquote>
<div><p>“period_1.overlaps(period_3)”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “markdown”,
“metadata”: {},
“source”: [</p>
<blockquote>
<div><p>“The intersection is not implemented as a function in the <cite>UtcPeriod</cite> structure, it is a free function.n”,
“This is why we had to implement it separatly.n”,
“n”,
“To compute the intersection we pass the <cite>intersection</cite> function both the periods to compute intersection for.n”,
“We get a special period out if the periods does not overlap.”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “code”,
“execution_count”: 40,
“metadata”: {},
“outputs”: [</p>
<blockquote>
<div><dl>
<dt>{</dt><dd><dl>
<dt>“data”: {</dt><dd><dl class="simple">
<dt>“text/plain”: [</dt><dd><p>“[2018-04-01T00:00:00Z,2018-07-01T00:00:00Z&gt;”</p>
</dd>
</dl>
<p>]</p>
</dd>
</dl>
<p>},
“execution_count”: 40,
“metadata”: {},
“output_type”: “execute_result”</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>],
“source”: [</p>
<blockquote>
<div><p>“sts.intersection(period_1, period_2)”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “code”,
“execution_count”: 41,
“metadata”: {},
“outputs”: [</p>
<blockquote>
<div><dl>
<dt>{</dt><dd><dl>
<dt>“data”: {</dt><dd><dl class="simple">
<dt>“text/plain”: [</dt><dd><p>“[not-valid-period&gt;”</p>
</dd>
</dl>
<p>]</p>
</dd>
</dl>
<p>},
“execution_count”: 41,
“metadata”: {},
“output_type”: “execute_result”</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>],
“source”: [</p>
<blockquote>
<div><p>“sts.intersection(period_1, period_3)”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “markdown”,
“metadata”: {},
“source”: [</p>
<blockquote>
<div><p>“#### Moment in periodn”,
“n”,
“To check if a time point is inside a period we can call the <cite>contains</cite> function on the period with the time point as argument.”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “code”,
“execution_count”: 42,
“metadata”: {},
“outputs”: [],
“source”: [</p>
<blockquote>
<div><p>“period = sts.UtcPeriod(utc.time(2018), utc.time(2019))”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “markdown”,
“metadata”: {},
“source”: [</p>
<blockquote>
<div><p>“The <cite>contains</cite> function accepts the time point, and returns a boolean signifying whether the point is within the period or not:”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “code”,
“execution_count”: 43,
“metadata”: {},
“outputs”: [</p>
<blockquote>
<div><dl>
<dt>{</dt><dd><dl>
<dt>“data”: {</dt><dd><dl class="simple">
<dt>“text/plain”: [</dt><dd><p>“False”</p>
</dd>
</dl>
<p>]</p>
</dd>
</dl>
<p>},
“execution_count”: 43,
“metadata”: {},
“output_type”: “execute_result”</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>],
“source”: [</p>
<blockquote>
<div><p>“moment = utc.time(2017, 6)n”,
“n”,
“period.contains(moment)”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “code”,
“execution_count”: 44,
“metadata”: {},
“outputs”: [</p>
<blockquote>
<div><dl>
<dt>{</dt><dd><dl>
<dt>“data”: {</dt><dd><dl class="simple">
<dt>“text/plain”: [</dt><dd><p>“True”</p>
</dd>
</dl>
<p>]</p>
</dd>
</dl>
<p>},
“execution_count”: 44,
“metadata”: {},
“output_type”: “execute_result”</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>],
“source”: [</p>
<blockquote>
<div><p>“moment = utc.time(2018, 6)n”,
“n”,
“period.contains(moment)”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “markdown”,
“metadata”: {},
“source”: [</p>
<blockquote>
<div><p>“#### Diff a periodn”,
“n”,
“To determine how many times a period can be subdivided by a delta, we do not need to unpack the points definingn”,
“the period and use <cite>Calendar.diff_units</cite>. The <cite>UtcPeriod</cite> construct have a <cite>diff_units</cite> function acceptingn”,
“a calendar and the delta. Otherwise this function works just like the <cite>Calendar.diff_units</cite>.n”,
“n”,
“To demonstrate we define a period of some length:”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “code”,
“execution_count”: 45,
“metadata”: {},
“outputs”: [],
“source”: [</p>
<blockquote>
<div><p>“# define a periodn”,
“period = sts.UtcPeriod(utc.time(2018, 3, 15, 17), utc.time(2018, 10, 2, 4))”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “markdown”,
“metadata”: {},
“source”: [</p>
<blockquote>
<div><p>“By using <cite>UtcPeriod.diff_units</cite> on the period with <cite>Calendar.DAY</cite> as the delta, we get the number of whole daysn”,
“in the period:”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “code”,
“execution_count”: 46,
“metadata”: {},
“outputs”: [</p>
<blockquote>
<div><dl>
<dt>{</dt><dd><dl>
<dt>“data”: {</dt><dd><dl class="simple">
<dt>“text/plain”: [</dt><dd><p>“200”</p>
</dd>
</dl>
<p>]</p>
</dd>
</dl>
<p>},
“execution_count”: 46,
“metadata”: {},
“output_type”: “execute_result”</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>],
“source”: [</p>
<blockquote>
<div><p>“# determine the number of whole days the period can be subdivided inton”,
“period.diff_units(utc, sts.Calendar.DAY)”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “markdown”,
“metadata”: {},
“source”: [</p>
<blockquote>
<div><p>“Or we can determine the number of minutes the period can be subdivided into:”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “code”,
“execution_count”: 47,
“metadata”: {},
“outputs”: [</p>
<blockquote>
<div><dl>
<dt>{</dt><dd><dl>
<dt>“data”: {</dt><dd><dl class="simple">
<dt>“text/plain”: [</dt><dd><p>“288660”</p>
</dd>
</dl>
<p>]</p>
</dd>
</dl>
<p>},
“execution_count”: 47,
“metadata”: {},
“output_type”: “execute_result”</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>],
“source”: [</p>
<blockquote>
<div><p>“# determine the number of whole minutes the period can be subdivided inton”,
“period.diff_units(utc, sts.Calendar.MINUTE)”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>}</p>
</dd>
</dl>
<p>],
“metadata”: {</p>
<blockquote>
<div><p>“celltoolbar”: “Raw Cell Format”,
“kernelspec”: {</p>
<blockquote>
<div><p>“display_name”: “Python 3”,
“language”: “python”,
“name”: “python3”</p>
</div></blockquote>
<p>},
“language_info”: {</p>
<blockquote>
<div><dl class="simple">
<dt>“codemirror_mode”: {</dt><dd><p>“name”: “ipython”,
“version”: 3</p>
</dd>
</dl>
<p>},
“file_extension”: “.py”,
“mimetype”: “text/x-python”,
“name”: “python”,
“nbconvert_exporter”: “python”,
“pygments_lexer”: “ipython3”,
“version”: “3.7.7”</p>
</div></blockquote>
<p>}</p>
</div></blockquote>
<p>},
“nbformat”: 4,
“nbformat_minor”: 2</p>
</dd>
</dl>
<p>}</p>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, The Shyft project.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>